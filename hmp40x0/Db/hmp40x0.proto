# Protocol file for T&S HMP2000/HMP4000 power supplies

Terminator = LF;
#ReadTimeout = 200;

P = "CstatV-AC:";
DEV = "HMP4040";

get_id {
   out "*idn?";
   in "%#s";
   @init { out "*idn?";
   	 in "%#s"; }
}

get_err {
   out "syst:err?";
   in "%(" $P $DEV ":SystErr)#s";
   #@init {  out "syst:err?";
   #in "%(" $P $DEV ":SystErr)#s"; 
   #in "%#s";}
}

get_stat {
   out "stat:ques:inst:isum\$1?";
   in "%i";
}

get_set_val {
   out "INST OUT\$1";
   out "\$2?";
   in "%f";
}

get_meas_val {
   out "INST OUT\$1";
   out "MEAS:\$2?";
   in "%f";
   @replytimeout { get_err; }
}
